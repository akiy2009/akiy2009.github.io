<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>香川高等専門学校　高松キャンパス</title>
  <meta name="description" content="気象観測機器コンテスト発表スライド" />
  <meta property="og:title" content="香川高専　高松キャンパス　A班" />
  <meta property="og:description" content="このサイトは香川高専高松キャンパスの気象観測機器コンテストA班のスライド資料です。" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>slide</title>

  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      background: #000;
    }

    #slides-container {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    /* 各スライドの iframe */
    .slide-frame {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      border: none;
      background: #000;
      transform: translateX(100%);
      transition: transform 0.45s ease;
    }

    .slide-frame.current { transform: translateX(0); }
    .slide-frame.left    { transform: translateX(-100%); }

    /* インジケータ（左下の番号表示） */
    #indicator {
      position: fixed;
      bottom: 12px;
      right: 16px;
      font-size: 13px;
      color: #fff;
      opacity: 0.75;
      z-index: 9999;
      user-select: none;
    }
  </style>
</head>
<body>

  <div id="slides-container"></div>
  <div id="indicator">読み込み中...</div>

  <script>
    // ---------------------------------------------
    // スライドファイル一覧（ここに追加するだけ）
    // ---------------------------------------------
    const FILE_LIST = [
      "slides/001.html",
      "slides/002.html",
      "slides/003.html",
      "slides/004.html",
      "slides/005.html",
      "slides/006.html",
      "slides/007.html",
      "slides/008.html",
      "slides/009.html",
      "slides/010.html",
      "slides/011.html",
      // 必要なら増やすだけ
      // "slides/004.html",
      // "slides/005.html",
    ];

    const container = document.getElementById("slides-container");
    const frames = [];
    let index = 0;

    // ---------------------------------------------
    // スライド読み込み
    // ---------------------------------------------
    function loadSlides() {
      FILE_LIST.forEach(src => {
        const f = document.createElement("iframe");
        f.className = "slide-frame";
        f.src = src;
        container.appendChild(f);
        frames.push(f);
      });
      updateSlidePosition();
    }

    // ---------------------------------------------
    // スライドの位置更新
    // ---------------------------------------------
    function updateSlidePosition() {
      frames.forEach((f, i) => {
        f.classList.remove("current", "left");
        if (i === index) f.classList.add("current");
        if (i < index)   f.classList.add("left");
      });

      document.getElementById("indicator").textContent =
        `${index + 1} / ${frames.length}`;
    }

    // ---------------------------------------------
    // 次へ / 前へ
    // ---------------------------------------------
    function next() {
      if (index < frames.length - 1) {
        index++;
        updateSlidePosition();
      }
    }

    function prev() {
      if (index > 0) {
        index--;
        updateSlidePosition();
      }
    }

    // ---------------------------------------------
    // キー操作
    // ---------------------------------------------
    window.addEventListener("keydown", e => {
      if (e.key === "ArrowRight" || e.key === " " || e.key === "PageDown") next();
      if (e.key === "ArrowLeft"  || e.key === "PageUp") prev();
    });

    // ---------------------------------------------
    // クリックで次へ
    // ---------------------------------------------
    window.addEventListener("click", e => {
      if (!e.target.closest("a")) next();
    });

    // ---------------------------------------------
    // スワイプ操作
    // ---------------------------------------------
    let startX = 0;
    window.addEventListener("touchstart", e => {
      startX = e.touches[0].clientX;
    }, { passive: true });

    window.addEventListener("touchend", e => {
      const endX = e.changedTouches[0].clientX;
      if (startX - endX > 50) next();
      if (endX - startX > 50) prev();
    });

    // ---------------------------------------------
    // 実行
    // ---------------------------------------------
    loadSlides();
  </script>

</body>
</html>

