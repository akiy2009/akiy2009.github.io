<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>宇宙開発研究部 | 香川高専 高松キャンパス</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#050914; --border:rgba(255,255,255,0.12); --accent:#6ea8ff;
  --text:#e6e9f2; --text-sub:#b7bdd3; --card-bg:rgba(255,255,255,0.05);
}
*{box-sizing:border-box;}
body{margin:0;font-family:"Inter",sans-serif;background:radial-gradient(ellipse at top,#0d1535,var(--bg));color:var(--text);line-height:1.8;}
header{min-height:85vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 20px;}
.hero h1{font-size:clamp(2.8rem,5vw,4rem);letter-spacing:0.08em;}
.hero p{color:var(--text-sub);margin-top:16px;font-size:1.1rem;}
nav{position:sticky;top:0;z-index:10;backdrop-filter:blur(12px);background:rgba(5,9,20,0.7);border-bottom:1px solid var(--border);display:flex;justify-content:center;gap:36px;padding:14px;}
nav a{color:var(--text-sub);font-weight:600;font-size:0.95rem;text-decoration:none;position:relative;}
nav a::after{content:"";position:absolute;left:0;bottom:-4px;width:0;height:2px;background:var(--accent);transition:width .3s;}
nav a:hover{color:var(--text);}
nav a:hover::after{width:100%;}
section{max-width:1100px;margin:0 auto;padding:90px 20px;}
h2{font-size:2.2rem;margin-bottom:36px;position:relative;}
h2::after{content:"";width:48px;height:3px;background:linear-gradient(90deg,var(--accent),transparent);display:block;margin-top:10px;}
.card{border-radius:16px;padding:26px;margin-bottom:24px;background:var(--card-bg);border:1px solid var(--border);opacity:0;transform:translateY(20px);transition:0.8s, transform 0.3s;}
.card.show{opacity:1;transform:translateY(0);}
.card:hover{transform:translateY(-4px);}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;}

/* ===== スライダー ===== */
.slider{position:relative;overflow:hidden;border-radius:18px;border:1px solid var(--border);user-select:none;touch-action:pan-y;margin-bottom:40px;}
.slides{display:flex;transition:transform 0.6s ease;}
.slides img{min-width:100%;height:420px;object-fit:cover;pointer-events:none;border-radius:18px;}
.arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.45);border:1px solid var(--border);color:#fff;font-size:22px;width:42px;height:42px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;}
.arrow.left{left:14px;} .arrow.right{right:14px;}
.caption{position:absolute;bottom:16px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.4);color:#fff;padding:6px 12px;border-radius:8px;font-size:0.9rem;}
.indicators{position:absolute;bottom:16px;right:14px;display:flex;gap:6px;}
.indicators span{display:block;width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.3);cursor:pointer;}
.indicators span.active{background:var(--accent);}

footer{text-align:center;padding:50px 20px;border-top:1px solid var(--border);color:var(--text-sub);font-size:0.85rem;}
</style>
</head>
<body>

<header>
  <div class="hero">
    <h1>宇宙開発研究部</h1>
    <p>香川高等専門学校 高松キャンパス / UKK</p>
  </div>
</header>

<nav>
  <a href="#about">ABOUT</a>
  <a href="#gallery">GALLERY</a>
  <a href="#activity">ACTIVITY</a>
  <a href="#achievement">ACHIEVEMENT</a>
  <a href="#articles">ARTICLES</a>
  <a href="#contact">CONTACT</a>
</nav>

<!-- ABOUT -->
<section id="about">
  <h2>About</h2>
  <div class="grid">
    <div class="card">
      <h3>部活動概要</h3>
      <p>宇宙開発研究部（UKK）は香川高専高松キャンパスに所属する学生主体の研究部です。観測、ロケット開発、データ解析を通して実践的な宇宙工学を学びます。</p>
    </div>
    <div class="card">
      <h3>理念</h3>
      <p>「宇宙を身近にする技術」を掲げ、教育的価値と研究的価値を両立。部員一人ひとりが主体的に技術と知識を習得することを重視しています。</p>
    </div>
  </div>
</section>

<!-- GALLERY -->
<section id="gallery">
  <h2>Gallery</h2>
  <div class="slider" id="slider">
    <div class="slides">
      <img src="https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&fit=crop&w=1600&q=80" alt="宇宙観測装置">
      <img src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=1600&q=80" alt="ロケット実験">
      <img src="https://images.unsplash.com/photo-1447433819943-74a20887a81e?auto=format&fit=crop&w=1600&q=80" alt="高専スペースアカデミア">
    </div>
    <div class="caption" id="caption">宇宙観測装置</div>
    <button class="arrow left">‹</button>
    <button class="arrow right">›</button>
    <div class="indicators" id="indicators"></div>
  </div>
</section>

<!-- ACTIVITY -->
<section id="activity">
  <h2>Activity</h2>
  <div class="grid">
    <div class="card">
      <h3>宇宙観測</h3>
      <p>太陽フレアや大気環境の観測装置を開発。データ収集・解析まで一貫して行います。</p>
    </div>
    <div class="card">
      <h3>ロケット・缶サット</h3>
      <p>小型ロケット・缶サットを通して構造設計・通信・制御技術を総合的に学びます。</p>
    </div>
    <div class="card">
      <h3>高専スペースアカデミア</h3>
      <p>全国高専と連携した宇宙教育プログラムへの参加。合同ワークショップや研究発表も行います。</p>
    </div>
  </div>
</section>

<!-- ACHIEVEMENT -->
<section id="achievement">
  <h2>Achievement</h2>
  <div class="card">
    高校・高専気象観測機器コンテストで複数回入賞。部員の主体的な研究姿勢と技術力が評価されています。
  </div>
</section>

<!-- ARTICLES -->
<section id="articles">
  <h2>Articles</h2>
  <div class="grid" id="articles-grid"></div>
</section>

<!-- CONTACT -->
<section id="contact">
  <h2>Contact</h2>
  <div class="card">
    香川高等専門学校 高松キャンパス<br>
    宇宙開発研究部（UKK）<br>
    見学・取材・共同研究については学校を通じてお問い合わせください。
  </div>
</section>

<footer>© 香川高等専門学校 宇宙開発研究部 UKK</footer>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
// Markdown 記事リスト
const articles = [
  {file:"articles/article1.md"},
  {file:"articles/article2.md"},
  {file:"articles/article3.md"}
];

const grid = document.getElementById("articles-grid");

// IntersectionObserver for animation
const observer = new IntersectionObserver(entries => { entries.forEach(e=>e.isIntersecting&&e.target.classList.add("show")); },{threshold:0.2});

// 記事読み込み
articles.forEach(a=>{
  fetch(a.file)
    .then(res=>res.text())
    .then(md=>{
      const snippet = marked.parse(md.split("\n").slice(0,6).join("\n")) +
        `<a href='article.html?file=${encodeURIComponent(a.file)}' style='color: #6ea8ff;text-decoration:none;'>続きを読む →</a>`;
      const div = document.createElement("div");
      div.className="card";
      div.innerHTML = snippet;
      grid.appendChild(div);
      observer.observe(div); // 追加
    });
});

// ===== スライダー =====
const slider = document.getElementById("slider");
const slides = slider.querySelector(".slides");
const imgs = slider.querySelectorAll("img");
const caption = slider.querySelector("#caption");
const prev = slider.querySelector(".left");
const next = slider.querySelector(".right");
const indicatorsContainer = slider.querySelector("#indicators");
let index=0, startX=0, dragging=false;
const captions = ["宇宙観測装置","ロケット実験","高専スペースアカデミア"];
imgs.forEach((_,i)=>{
  const span=document.createElement("span"); if(i===0) span.classList.add("active");
  indicatorsContainer.appendChild(span);
  span.addEventListener("click",()=>{index=i;updateSlider();resetAuto();});
});
const indicators = indicatorsContainer.querySelectorAll("span");
function updateSlider(){ slides.style.transform=`translateX(-${index*100}%)`; caption.textContent=captions[index]; indicators.forEach((s,i)=>s.classList.toggle("active",i===index)); }
function nextSlide(){ index=(index+1)%imgs.length;updateSlider();}
function prevSlide(){ index=(index-1+imgs.length)%imgs.length;updateSlider();}
let auto=setInterval(nextSlide,5000);
function resetAuto(){ clearInterval(auto); auto=setInterval(nextSlide,5000);}
next.onclick=()=>{nextSlide();resetAuto();};
prev.onclick=()=>{prevSlide();resetAuto();};
slider.addEventListener("pointerdown",e=>{dragging=true;startX=e.clientX;clearInterval(auto);});
slider.addEventListener("pointerup",e=>{if(!dragging)return; dragging=false; const diff=e.clientX-startX; if(diff>50) prevSlide(); if(diff<-50) nextSlide(); resetAuto();});
</script>
</body>
</html>